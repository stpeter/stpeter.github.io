<html>
<head>
<title>One Small Voice: Pubsub Node Types</title>
<link rel="stylesheet" type="text/css" href="/stpeter.css">
<link rel="alternate" type="application/atom+xml" href="http://stpeter.im/atom.xml">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width">
<meta name="DC.Creator" content="Peter Saint-Andre">
<meta name="DC.Rights" content="https://creativecommons.org/publicdomain/zero/1.0/">
<meta name="DC.Title" content="Pubsub Node Types">
<meta name="DC.Date" content="2007-08-01">
</head>
<body>
<h2>Pubsub Node Types</h2>
<h3>by <a href="/">Peter Saint-Andre</a>
</h3>
<h3>2007-08-01</h3>
<p><em>"Simplify, simplify, simplify." --Thoreau</em></p>
<p>The XMPP <a href="https://xmpp.org/extensions/xep-0060.html">publish-subscribe extension</a> is traditionally considered a bit intimidating. Yes, it's the largest XEP we've published. There are lots of options and potential error flows, but the basic concept is not all that difficult to grok: you've got a node/channel and you can publish items to it; other people can subscribe to the node and be notified when you publish items. A handy thing for pushing out RSS/Atom feeds, extended presence events like geolocation changes, and so on. It enables a whole world of interaction between people and applications. Yay!</p>
<p>But there's that whole complexity thing happening here. So we've defined a simplified profile of pubsub called <a href="https://xmpp.org/extensions/xep-0163.html">personal eventing</a> (a.k.a. PEP). This makes it much simpler to subscribe to nodes if you share presence with the publisher or the service. But it doesn't greatly simplify the publishing process, and that has people concerned.</p>
<p>There's a fairly close analogy between <a href="https://xmpp.org/extensions/xep-0045.html">multi-user chat</a> and pubsub (in fact MUC is basically a kind of pubsub, no?). Peter Millard and I borrowed from MUC when we came up with the idea of pubsub affiliations/roles (pubsub node owner, publisher, and subscriber are like MUC room owner, admin, and visitor). But we didn't borrow from MUC by defining node types on the analogy of room type.</p>
<p>We keep getting back to the idea that pubsub is hard. Too hard. Part of the challenge we're facing on the publish side is all those node configuration options. Gosh, how do you choose what the node is supposed to look like? Wouldn't it be easier if there were a short list of node types to choose from? (I <a href="https://mail.jabber.org/pipermail/standards/2007-July/015974.html">posted</a> about this two weeks ago but didn't get any response on the standards@xmpp.org list so I figured I'd explore it further via blog, especially since it came up again at the devcon last week.)</p>
<p>So here are some possible node types:</p>
<ul>
<li>public -- open access model, anyone can subscribe or retrieve items (good for user profiles, public keys, many RSS/Atom feeds)</li>
<li>private -- whitelist access model, only the node owner can receive notifications (good for private data storage of personal bookmarks, client config options, and the like)</li>
<li>buddy -- presence access model, if you can see my presence then you can receive notifications (good for extended presence stuff like tunes and activity)</li>
<li>club -- authorize access model, you need to be approved by the node owner to join the in-group</li>
</ul>
<p>Well those all pretty much map to the access models, no? So far so good.</p>
<p>Then we can add another dimension: whether items are persisted or not (similar perhaps to whether occupant JIDs are exposed in a MUC room). We'll call this storage vs. eventing. Thus you could have a public storage node, a private eventing node, etc.</p>
<p>Well mostly I'm just trying this on for size right now. I don't know if these distinctions help or hurt. They do seem fairly intuitive. Maybe publishing clients can use these ideas to show node creation / configuration options to end users. Feel free to comment if you have feedback. :)</p>
<hr>
<p><a href="/">Peter Saint-Andre</a> &gt; <a href="/journal/">Journal</a></p>
</body>
</html>
